server:
  address: 192.168.2.145
  port: 8000
spring:
  application:
    name: woven-dsp-gateway
  cloud:
    consul:
      host: 127.0.0.1
      port: 8500
      discovery:
        service-name: ${spring.application.name}
        instance-id: ${spring.application.name}:${server.port}
        health-check-path: /actuator/health
        health-check-interval: 15s
    service-registry:
      auto-registration:
        enabled: true
zuul:
  host:
    connect-timeout-millis: 15000
    socket-timeout-millis: 60000
    connection-request-timeout-millis: 60000
    time-unit: seconds
  routes:
    auth:
      path: /api/auth/**
      sensitive-headers: '*'
      service-id: woven-dsp-auth-server
      stripPrefix: false
    access-platform:
      path: /api/dsp/platform/**
      sensitive-headers: '*'
      service-id: woven-dsp-access-platform
      stripPrefix: false
    access-consumer:
      path: /api/dsp/consumer/**
      sensitive-headers: '*'
      service-id: woven-dsp-access-consumer
      stripPrefix: false
  add-proxy-headers: true
  ribbon:
    eager-load:
      enabled: true
  ratelimit:
    key-prefix: dsp-ratelimite
    enabled: true
    behind-proxy: true
    default-policy:
      limit: 100
      quota: 100
      refresh-interval: 3
ribbon:
  ReadTimeout: 10000
  ConnectTimeout: 10000
security:
  oauth2:
    resource:
      id: ${spring.application.name}
      serviceId: ${spring.application.name}
      user-info-uri: http://localhost:8004/api/auth/user
      prefer-token-info: false
    client:
      access-token-uri: http://localhost:8004/api/auth/oauth/token
      user-authorization-uri: http://localhost:8004/api/auth/oauth/authorize
      client-id: dsp
      client-secret: 123456
  token:
    ignored:
      staticResources:
        - /
        - /static/**
        - /webjars/**
        - /**/*.js*
        - /**/*.css*
        - /**/*.html*
        - /**/*.ico*
        - /**/*.json*
      anyMethods:
        - /
        - /actuator/**
        - /v2/**
        - /swagger**
        - /api/auth/oauth/**
        - /**/v2/*
swagger2:
  enabled: true
  resources:
    - name: gateway
      url: /v2/api-docs
      swaggerVersion: 0.1.0
    - name: auth-server
      url: /api/auth/v2/api-docs
      swaggerVersion: 0.1.0
    - name: access-platform
      url: /api/dsp/platform/v2/api-docs
      swaggerVersion: 0.1.0
    - name: access-consumer
      url: /api/dsp/consumer/v2/api-docs
      swaggerVersion: 0.1.0